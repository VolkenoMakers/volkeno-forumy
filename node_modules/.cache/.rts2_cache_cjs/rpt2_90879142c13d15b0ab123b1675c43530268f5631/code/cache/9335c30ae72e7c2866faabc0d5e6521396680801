{"code":"import React, { useState } from 'react';\r\nimport styles from '../styles.module.css';\r\n// import { DatasUserSession } from './DatasForum';\r\nimport { BiComment } from \"react-icons/bi\";\r\nimport { AiOutlineClockCircle } from \"react-icons/ai\";\r\n// import AjoutComments from './AjoutComments';\r\nimport moment from 'moment';\r\nconst FrontCommentItem = ({ donnees, \r\n//  onAddResponseComment, \r\nDatasUserSession }) => {\r\n    const [DataInt, setDataInt] = useState(donnees);\r\n    const [showLinks, setShowLinks] = useState(false);\r\n    const toogleShowLinks = () => {\r\n        setShowLinks(!showLinks);\r\n    };\r\n    function generateUniqueID() {\r\n        var text = \"\";\r\n        var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n        for (var i = 0; i < 5; i++)\r\n            text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n        return text;\r\n    }\r\n    const resetForm = () => {\r\n        document.getElementById('form-response').reset();\r\n    };\r\n    const [response, setResponse] = useState('');\r\n    const submitReponse = (e, msg_id, _rps_id) => {\r\n        e.preventDefault();\r\n        // console.log('msg',msg_id, 'rps',rps_id)\r\n        if (response.trim().length > 0) {\r\n            let firstNameUserSession = DatasUserSession[0].user.firstName;\r\n            let lastNameUserSession = DatasUserSession[0].user.lastName;\r\n            let field = {\r\n                content: response,\r\n                id: generateUniqueID(),\r\n                slug: generateUniqueID(),\r\n                created_at: moment().format('DD/MM/yyyy'),\r\n                user: {\r\n                    firstName: firstNameUserSession,\r\n                    lastName: lastNameUserSession,\r\n                    avatar: '/mediafiles/avatars/default.png',\r\n                }\r\n            };\r\n            let foundItem = DataInt.first_level_response.find((element) => element.id === msg_id);\r\n            foundItem.second_level_response.push(field);\r\n            setDataInt(DataInt);\r\n            resetForm();\r\n            setResponse('');\r\n        }\r\n    };\r\n    return (React.createElement(\"div\", { className: styles.cardParent }, DataInt?.first_level_response?.map((donnee) => {\r\n        return (React.createElement(\"div\", { key: donnee.id },\r\n            React.createElement(\"div\", { className: `row ${showLinks\r\n                    ? styles.forumDiscussionLigneUnion\r\n                    : ''}` },\r\n                React.createElement(\"div\", { className: \"col-2\" },\r\n                    React.createElement(\"div\", { className: styles.sommaireAvatarTitre },\r\n                        React.createElement(\"div\", { className: \"\" },\r\n                            React.createElement(\"div\", { className: \"p1\" },\r\n                                React.createElement(\"img\", { src: donnee?.user?.avatar === '/mediafiles/avatars/default.png' ? `https://ui-avatars.com/api/?name=${donnee?.user?.firstName} + ${donnee?.user?.lastName}` : `${donnee?.user?.avatar}`, alt: \"user-avatar\", className: styles.imgSommaireForumDiscussion2 }))),\r\n                        React.createElement(\"div\", { className: \" d-flex align-item-md-center\" },\r\n                            React.createElement(\"div\", { className: styles.forumSommaireAuteurCard }, donnee?.user?.firstName +\r\n                                \" \" +\r\n                                donnee?.user?.lastName)))),\r\n                React.createElement(\"div\", { className: \"col-10\" },\r\n                    React.createElement(\"div\", { className: styles.forumCardSommaire },\r\n                        React.createElement(\"div\", { className: \"row\" },\r\n                            React.createElement(\"div\", { className: \"col-12 pt-3 mb-md-4 mb-5\" },\r\n                                React.createElement(\"p\", { className: styles.textSommaireForum },\r\n                                    donnee?.content,\r\n                                    \" \"))),\r\n                        React.createElement(\"div\", { className: styles.cardDiscussionHeureCommentaire },\r\n                            React.createElement(\"a\", { className: styles.cardDiscussionCommentaire, \"data-toggle\": \"collapse\", href: `#collapseExample${donnee?.id}`, role: \"button\", \"aria-expanded\": \"false\", \"aria-controls\": `collapseExample${donnee?.id}`, onClick: () => {\r\n                                    toogleShowLinks;\r\n                                } },\r\n                                React.createElement(BiComment, { className: \"mr-1\" }),\r\n                                donnee?.second_level_response?.length,\r\n                                \" \",\r\n                                \"commentaires\"),\r\n                            React.createElement(\"span\", null,\r\n                                React.createElement(AiOutlineClockCircle, { className: \"mr-1\" }),\r\n                                \" \",\r\n                                donnee?.created_at))))),\r\n            React.createElement(\"div\", { className: \"collapse\", id: `collapseExample${donnee?.id}` },\r\n                donnee.second_level_response?.map((item) => {\r\n                    return (React.createElement(\"div\", { key: item.id, className: `row ${showLinks\r\n                            ? styles.forumDiscussionLigneUnion\r\n                            : ''}\n                                            mb-3` },\r\n                        React.createElement(\"div\", { className: \"col-3\" },\r\n                            React.createElement(\"div\", { className: `row ${showLinks\r\n                                    ? styles.rowReponseLigneUnion1\r\n                                    : ''}` },\r\n                                React.createElement(\"div\", { className: \"col-md-6\" },\r\n                                    React.createElement(\"div\", { className: \"p1 d-flex justify-content-end\" },\r\n                                        React.createElement(\"img\", { src: item?.user?.avatar === '/mediafiles/avatars/default.png' ? `https://ui-avatars.com/api/?name=${item?.user?.firstName} + ${item?.user?.lastName}` : `${item?.user?.avatar}`, alt: \"user-avatar\", className: styles.imgSommaireForumDiscussion2 }))),\r\n                                React.createElement(\"div\", { className: \"col-md-6 d-flex align-item-md-center\" },\r\n                                    React.createElement(\"div\", { className: styles.forumSommaireAuteurCard }, item?.user\r\n                                        ?.firstName +\r\n                                        \" \" +\r\n                                        item\r\n                                            ?.user\r\n                                            ?.lastName)))),\r\n                        React.createElement(\"div\", { className: `col-9` },\r\n                            React.createElement(\"div\", { className: styles.forumCardSommaire },\r\n                                React.createElement(\"div\", { className: \"row\" },\r\n                                    React.createElement(\"div\", { className: \"col-12 pt-3 mb-md-4 mb-5\" },\r\n                                        React.createElement(\"p\", { className: styles.textSommaireForum },\r\n                                            item?.content,\r\n                                            \" \")))))));\r\n                }),\r\n                DatasUserSession.map((item) => {\r\n                    return (React.createElement(\"div\", { className: `row ${showLinks\r\n                            ? styles.rowReponseLigneUnion\r\n                            : ''}`, key: item.id },\r\n                        React.createElement(\"div\", { className: \"col-3\" },\r\n                            React.createElement(\"div\", { className: \"row\" },\r\n                                React.createElement(\"div\", { className: \"col-md-6\" },\r\n                                    React.createElement(\"div\", { className: \"p1 d-flex justify-content-end\" },\r\n                                        React.createElement(\"img\", { src: item?.user?.avatar === '/mediafiles/avatars/default.png' ? `https://ui-avatars.com/api/?name=${item?.user?.firstName} + ${item?.user?.lastName}` : `${item?.user?.avatar}`, alt: \"user-avatar\", className: styles.imgSommaireForumDiscussion2 }))),\r\n                                React.createElement(\"div\", { className: \"col-md-6 d-flex align-item-md-center\" },\r\n                                    React.createElement(\"div\", { className: styles.forumSommaireAuteurCard }, item\r\n                                        ?.user\r\n                                        ?.firstName !==\r\n                                        undefined ||\r\n                                        item\r\n                                            ?.user\r\n                                            ?.lastName !==\r\n                                            undefined\r\n                                        ? item\r\n                                            ?.user\r\n                                            ?.firstName +\r\n                                            \" \" +\r\n                                            item\r\n                                                ?.user\r\n                                                ?.lastName\r\n                                        : \"Anonyme\")))),\r\n                        React.createElement(\"div\", { className: \"col-9\" },\r\n                            React.createElement(\"form\", { className: 'mb-3', id: 'form-response' },\r\n                                React.createElement(\"div\", { className: `${styles.forumCardSommaire}` },\r\n                                    React.createElement(\"div\", { className: 'row' },\r\n                                        React.createElement(\"div\", { className: 'col-12 pt-3 mb-md-4 mb-5' },\r\n                                            React.createElement(\"textarea\", { className: 'form-control', placeholder: 'R\\u00E9pondre', name: 'contents', value: response, onChange: (e) => {\r\n                                                    setResponse(e.target.value);\r\n                                                } })))),\r\n                                React.createElement(\"button\", { className: styles.formAddCguButtonAjouter, onClick: (e) => submitReponse(e, donnee.id, item.id) }, \"Ajouter\")))));\r\n                }))));\r\n    })));\r\n};\r\nexport default FrontCommentItem;\r\n//# sourceMappingURL=FrontCommentItem.js.map","references":["/Users/paulgomis/Desktop/volkeno/volkeno-forumy/node_modules/@types/react/index.d.ts","/Users/paulgomis/Desktop/volkeno/volkeno-forumy/node_modules/react-icons/bi/index.d.ts","/Users/paulgomis/Desktop/volkeno/volkeno-forumy/node_modules/react-icons/ai/index.d.ts","/Users/paulgomis/Desktop/volkeno/volkeno-forumy/node_modules/moment/ts3.1-typings/moment.d.ts"],"map":"{\"version\":3,\"file\":\"FrontCommentItem.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/components/FrontCommentItem.tsx\"],\"names\":[],\"mappings\":\"AAAA,OAAO,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAA;AACvC,OAAO,MAAM,MAAM,sBAAsB,CAAA;AACzC,mDAAmD;AACnD,OAAO,EAAE,SAAS,EAAE,MAAM,gBAAgB,CAAC;AAC3C,OAAO,EAAE,oBAAoB,EAAE,MAAM,gBAAgB,CAAC;AACtD,+CAA+C;AAC/C,OAAO,MAAM,MAAM,QAAQ,CAAC;AAG5B,MAAM,gBAAgB,GAAkB,CACpC,EAAE,OAAO;AACL,0BAA0B;AACzB,gBAAgB,EAAE,EACR,EAAE;IAIb,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAA;IAE/C,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAElD,MAAM,eAAe,GAAG,GAAG,EAAE;QACzB,YAAY,CAAC,CAAC,SAAS,CAAC,CAAA;IAC5B,CAAC,CAAA;IAED,SAAS,gBAAgB;QACrB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,QAAQ,GAAG,gEAAgE,CAAC;QAEhF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;YAC1B,IAAI,IAAI,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;QAErE,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,MAAM,SAAS,GAAG,GAAG,EAAE;QAClB,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAqB,CAAC,KAAK,EAAE,CAAC;IAC1E,CAAC,CAAA;IAED,MAAM,CAAC,QAAQ,EAAE,WAAW,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAA;IAG5C,MAAM,aAAa,GAAG,CAAC,CAAM,EAAE,MAAa,EAAE,OAAc,EAAE,EAAE;QAC5D,CAAC,CAAC,cAAc,EAAE,CAAA;QAElB,0CAA0C;QAE1C,IAAG,QAAQ,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,IAAI,oBAAoB,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAA;YACnE,IAAI,mBAAmB,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAA;YAErD,IAAI,KAAK,GAAQ;gBACb,OAAO,EAAE,QAAQ;gBACjB,EAAE,EAAE,gBAAgB,EAAE;gBACtB,IAAI,EAAE,gBAAgB,EAAE;gBACxB,UAAU,EAAE,MAAM,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC;gBACzC,IAAI,EAAE;oBACF,SAAS,EAAE,oBAAoB;oBAC/B,QAAQ,EAAE,mBAAmB;oBAC7B,MAAM,EAAE,iCAAiC;iBAC5C;aACJ,CAAA;YACD,IAAI,SAAS,GAAG,OAAO,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,OAAW,EAAE,EAAE,CAAC,OAAO,CAAC,EAAE,KAAK,MAAM,CAAC,CAAC;YAE1F,SAAS,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;YAC3C,UAAU,CAAC,OAAO,CAAC,CAAA;YACnB,SAAS,EAAE,CAAA;YACX,WAAW,CAAC,EAAE,CAAC,CAAA;SAElB;IACL,CAAC,CAAA;IAIR,OAAO,CAEN,6BAAK,SAAS,EAAE,MAAM,CAAC,UAAU,IAEnB,OAAO,EAAE,oBAAoB,EAAE,GAAG,CAAC,CAAC,MAAW,EAAC,EAAE;QAC9C,OAAM,CACF,6BAAK,GAAG,EAAE,MAAM,CAAC,EAAE;YACnB,6BAAK,SAAS,EAAE,OACR,SAAS;oBACL,CAAC,CAAC,MAAM,CAAC,yBAAyB;oBAClC,CAAC,CAAC,EAAE,EAAE;gBACd,6BAAK,SAAS,EAAC,OAAO;oBAClB,6BAAK,SAAS,EAAE,MAAM,CAAC,mBAAmB;wBACtC,6BAAK,SAAS,EAAC,EAAE;4BACb,6BAAK,SAAS,EAAC,IAAI;gCACf,6BACI,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,KAAK,iCAAiC,CAAC,CAAC,CAAC,oCAAoC,MAAM,EAAE,IAAI,EAAE,SAAS,MAAM,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,GAAG,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EACvL,GAAG,EAAC,aAAa,EACjB,SAAS,EAAE,MAAM,CAAC,2BAA2B,GAC/C,CACA,CACJ;wBACN,6BAAK,SAAS,EAAC,8BAA8B;4BACzC,6BAAK,SAAS,EACV,MAAM,CAAC,uBAAuB,IAE7B,MAAM,EAAE,IAAI,EAAE,SAAS;gCACpB,GAAG;gCACH,MAAM,EAAE,IAAI,EAAE,QAAQ,CACxB,CACJ,CACJ,CACA;gBAEF,6BAAK,SAAS,EAAC,QAAQ;oBACnB,6BAAK,SAAS,EACV,MAAM,CAAC,iBAAiB;wBAExB,6BAAK,SAAS,EAAC,KAAK;4BAChB,6BAAK,SAAS,EAAC,0BAA0B;gCACrC,2BAAG,SAAS,EACR,MAAM,CAAC,iBAAiB;oCACvB,MAAM,EAAE,OAAO;oCAAE,GAAG,CACrB,CACF,CACJ;wBACN,6BAAK,SAAS,EACV,MAAM,CAAC,8BAA8B;4BAErC,2BACI,SAAS,EAAE,MAAM,CAAC,yBAAyB,iBAC/B,UAAU,EACtB,IAAI,EAAE,mBAAmB,MAAM,EAAE,EAAE,EAAE,EACrC,IAAI,EAAC,QAAQ,mBACC,OAAO,mBACN,kBAAkB,MAAM,EAAE,EAAE,EAAE,EAC7C,OAAO,EAAE,GAAG,EAAE;oCACV,eAAe,CAAC;gCAEpB,CAAC;gCAED,oBAAC,SAAS,IAAC,SAAS,EAAC,MAAM,GAAG;gCAC7B,MAAM,EAAE,qBAAqB,EAAE,MAAM;gCAAE,GAAG;+CAE3C;4BACJ;gCACI,oBAAC,oBAAoB,IAAC,SAAS,EAAC,MAAM,GAAG;gCAAC,GAAG;gCAC5C,MAAM,EAAE,UAAU,CAChB,CACL,CACJ,CACJ,CACJ;YAKN,6BAAK,SAAS,EAAC,UAAU,EACrB,EAAE,EAAE,kBAAkB,MAAM,EAAE,EAAE,EAAE;gBAErC,MAAM,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC,IAAQ,EAAE,EAAE;oBAC5C,OAAO,CACH,6BACI,GAAG,EAAE,IAAI,CAAC,EAAE,EACZ,SAAS,EAAE,OACP,SAAS;4BACL,CAAC,CAAC,MAAM,CAAC,yBAAyB;4BAClC,CAAC,CAAC,EAAE;iDACP;wBAGL,6BAAK,SAAS,EAAC,OAAO;4BAClB,6BACA,SAAS,EAAE,OACP,SAAS;oCACL,CAAC,CAAC,MAAM,CAAC,qBAAqB;oCAC9B,CAAC,CAAC,EAAE,EAAE;gCAEV,6BAAK,SAAS,EAAC,UAAU;oCACrB,6BAAK,SAAS,EAAC,+BAA+B;wCAC1C,6BACI,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,KAAK,iCAAiC,CAAC,CAAC,CAAC,oCAAoC,IAAI,EAAE,IAAI,EAAE,SAAS,MAAM,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,EAC/K,GAAG,EAAC,aAAa,EACjB,SAAS,EAAE,MAAM,CAAC,2BAA2B,GAC/C,CACA,CACJ;gCACN,6BAAK,SAAS,EAAC,sCAAsC;oCACjD,6BAAK,SAAS,EACV,MAAM,CAAC,uBAAuB,IAE7B,IAAI,EAAE,IAAI;wCACP,EAAE,SAAS;wCACX,GAAG;wCACH,IAAI;4CACA,EAAE,IAAI;4CACN,EAAE,QAAQ,CAChB,CACJ,CACJ,CACJ;wBAEN,6BAAK,SAAS,EAAE,OAAO;4BACnB,6BAAK,SAAS,EACV,MAAM,CAAC,iBAAiB;gCAExB,6BAAK,SAAS,EAAC,KAAK;oCAChB,6BAAK,SAAS,EAAC,0BAA0B;wCACrC,2BAAG,SAAS,EACR,MAAM,CAAC,iBAAiB;4CAGpB,IAAI,EAAE,OAAO;4CACf,GAAG,CACL,CACF,CACJ,CACJ,CACJ,CACJ,CACT,CAAC;gBACN,CAAC,CAAC;gBAGE,gBAAgB,CAAC,GAAG,CAAC,CAAC,IAAS,EAAE,EAAE;oBAC/B,OAAM,CAEF,6BACI,SAAS,EAAE,OACP,SAAS;4BACL,CAAC,CAAC,MAAM,CAAC,oBAAoB;4BAC7B,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,EAAE;wBAE5B,6BAAK,SAAS,EAAC,OAAO;4BAClB,6BAAK,SAAS,EAAC,KAAK;gCAChB,6BAAK,SAAS,EAAC,UAAU;oCACrB,6BAAK,SAAS,EAAC,+BAA+B;wCAC1C,6BACI,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,KAAK,iCAAiC,CAAC,CAAC,CAAC,oCAAoC,IAAI,EAAE,IAAI,EAAE,SAAS,MAAM,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,EAC/K,GAAG,EAAC,aAAa,EACjB,SAAS,EAAE,MAAM,CAAC,2BAA2B,GAC/C,CACA,CACJ;gCACN,6BAAK,SAAS,EAAC,sCAAsC;oCACjD,6BAAK,SAAS,EACV,MAAM,CAAC,uBAAuB,IAE7B,IAAI;wCACD,EAAE,IAAI;wCACN,EAAE,SAAS;wCACX,SAAS;wCACT,IAAI;4CACJ,EAAE,IAAI;4CACN,EAAE,QAAQ;4CACV,SAAS;wCACT,CAAC,CAAC,IAAI;4CACN,EAAE,IAAI;4CACE,EAAE,SAAS;4CACf,GAAG;4CACH,IAAI;gDACR,EAAE,IAAI;gDACE,EAAE,QAAQ;wCAClB,CAAC,CAAC,SAAS,CACb,CACJ,CACJ,CACJ;wBAEN,6BAAK,SAAS,EAAC,OAAO;4BAMlB,8BAAM,SAAS,EAAC,MAAM,EAAC,EAAE,EAAC,eAAe;gCACrC,6BAAK,SAAS,EACV,GAAG,MAAM,CAAC,iBAAiB,EAAE;oCAE7B,6BAAK,SAAS,EAAC,KAAK;wCAChB,6BAAK,SAAS,EAAC,0BAA0B;4CACrC,kCAAU,SAAS,EAAC,cAAc,EAClC,WAAW,EAAC,eAAU,EAAC,IAAI,EAAC,UAAU,EACtC,KAAK,EAAE,QAAQ,EACf,QAAQ,EAAE,CAAC,CAAC,EAAC,EAAE;oDACX,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;gDAC/B,CAAC,GACW,CACV,CACJ,CACJ;gCAEN,gCAAQ,SAAS,EACb,MAAM,CAAC,uBAAuB,EAE9B,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,aAAa,CAAC,CAAC,EAAE,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,cAG/C,CACN,CAGL,CACJ,CAET,CAAA;gBACL,CAAC,CAAC,CAEJ,CACJ,CACT,CAAA;IACL,CAAC,CAAC,CAGV,CACN,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,gBAAgB,CAAA\"}","dts":{"name":"/Users/paulgomis/Desktop/volkeno/volkeno-forumy/components/FrontCommentItem.d.ts","writeByteOrderMark":false,"text":"import React from 'react';\r\ndeclare const FrontCommentItem: React.FC<any>;\r\nexport default FrontCommentItem;\r\n"}}
