{"code":"import React, { useState } from 'react';\r\nimport styles from '../styles.module.css';\r\n// import AjoutComments from './AjoutComments';\r\nimport FrontCommentItem from './FrontCommentItem';\r\nimport { IoReturnDownBackOutline } from 'react-icons/io5';\r\nimport { AiOutlineClockCircle } from \"react-icons/ai\";\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useParams } from 'react-router-dom';\r\nimport moment from 'moment';\r\nconst Discussion = ({ \r\n//   onAddComment,\r\nonAddResponseComment, datasUserSession }) => {\r\n    const { slug } = useParams();\r\n    let location = useLocation();\r\n    const Datas = location?.state;\r\n    const msg_item = Datas?.filter((ele) => ele.slug === slug);\r\n    const [donnees, setDonnees] = useState(msg_item[0]);\r\n    let donneesInt = donnees;\r\n    function generateUniqueID() {\r\n        var text = \"\";\r\n        var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n        for (var i = 0; i < 5; i++)\r\n            text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n        return text;\r\n    }\r\n    const resetForm = () => {\r\n        document.getElementById('add_msg_form').reset();\r\n    };\r\n    const [comment, setComment] = useState('');\r\n    const submitComment = (e) => {\r\n        e.preventDefault();\r\n        if (comment.trim().length > 0) {\r\n            let firstNameUserSession = datasUserSession[0].user.firstName;\r\n            let lastNameUserSession = datasUserSession[0].user.lastName;\r\n            let field = {\r\n                content: comment,\r\n                id: generateUniqueID(),\r\n                slug: generateUniqueID(),\r\n                // created_at: '22/04/2022',\r\n                created_at: moment().format('DD/MM/yyyy'),\r\n                user: {\r\n                    firstName: firstNameUserSession,\r\n                    lastName: lastNameUserSession,\r\n                    avatar: '/mediafiles/avatars/default.png',\r\n                },\r\n                second_level_response: []\r\n            };\r\n            donneesInt.first_level_response.push(field);\r\n            setDonnees(donneesInt);\r\n            resetForm();\r\n            setComment('');\r\n        }\r\n    };\r\n    return (React.createElement(\"div\", { className: \"component-liste-projet\" },\r\n        React.createElement(\"div\", { className: styles.contentViewStart },\r\n            React.createElement(\"div\", { className: styles.containerCayore },\r\n                React.createElement(\"div\", { className: \"row align-items-center\", style: { margin: \"3rem 0\" } },\r\n                    React.createElement(\"div\", { className: styles.forumCardSommaire },\r\n                        React.createElement(\"div\", { className: styles.cardDiscussionHeureVu },\r\n                            React.createElement(\"span\", null,\r\n                                React.createElement(AiOutlineClockCircle, { className: \"mr-1\" }),\r\n                                \" \",\r\n                                donnees?.created_at)),\r\n                        React.createElement(\"div\", { className: styles.sommaireAvatarTitre },\r\n                            React.createElement(\"div\", { className: \"\" },\r\n                                React.createElement(\"div\", { className: \"p1\" },\r\n                                    React.createElement(\"img\", { src: donnees?.author?.avatar === '/mediafiles/avatars/default.png' ? `https://ui-avatars.com/api/?name=${donnees?.author?.firstName} + ${donnees?.author?.lastName}` : `${donnees?.author?.avatar}`, alt: \"user-avatar\", className: styles.imgSommaireForumDiscussion }))),\r\n                            React.createElement(\"div\", { className: \"\" },\r\n                                React.createElement(\"h3\", { className: styles.titreSommaireForum }, donnees?.initialTitle),\r\n                                React.createElement(\"div\", { className: styles.forumSommairAauteurCard },\r\n                                    React.createElement(IoReturnDownBackOutline, { className: \"mr-1\" }),\r\n                                    \" \",\r\n                                    \"Par\",\r\n                                    \" \",\r\n                                    donnees\r\n                                        ?.author\r\n                                        ?.firstName !==\r\n                                        undefined ||\r\n                                        donnees\r\n                                            ?.author\r\n                                            ?.lastName !==\r\n                                            undefined\r\n                                        ? donnees\r\n                                            ?.author\r\n                                            ?.firstName +\r\n                                            \" \" +\r\n                                            donnees\r\n                                                ?.author\r\n                                                ?.lastName\r\n                                        : \"Anonyme\"))),\r\n                        React.createElement(\"div\", { className: \"row\" },\r\n                            React.createElement(\"div\", { className: \"col-12 pt-3\" },\r\n                                React.createElement(\"p\", { className: \r\n                                    // card-text \r\n                                    styles.textSommaireForum }, donnees.initialContent)))),\r\n                    React.createElement(FrontCommentItem, { donnees: donnees, onAddResponseComment: onAddResponseComment, DatasUserSession: datasUserSession }),\r\n                    React.createElement(\"span\", { className: styles.divSeparateur }),\r\n                    datasUserSession.length > 0 ? (React.createElement(\"div\", { className: `\n\t\t\t\t\t\t\t\trow\n\t\t\t\t\t\t\t\t${styles.rowReponse}\n\t\t\t\t\t\t\t\t` }, datasUserSession?.map((item) => {\r\n                        return (React.createElement(\"div\", { className: 'row', key: item.id },\r\n                            React.createElement(\"div\", { className: \"col-2\" },\r\n                                React.createElement(\"div\", { className: styles.sommaireAvatarTitre },\r\n                                    React.createElement(\"div\", { className: \"\" },\r\n                                        React.createElement(\"div\", { className: \"p1\" },\r\n                                            React.createElement(\"img\", { src: item?.user?.avatar === '/mediafiles/avatars/default.png' ? `https://ui-avatars.com/api/?name=${item?.user?.firstName} + ${item?.user?.lastName}` : `${item?.user?.avatar}`, alt: \"user-avatar\", className: styles.imgSommaireForumDiscussion2 }))),\r\n                                    React.createElement(\"div\", { className: \" d-flex align-item-md-center\" },\r\n                                        React.createElement(\"div\", { className: styles.forumSommaireAuteurCard }, item\r\n                                            ?.user\r\n                                            ?.firstName !==\r\n                                            undefined ||\r\n                                            item\r\n                                                ?.user\r\n                                                ?.lastName !==\r\n                                                undefined\r\n                                            ? item\r\n                                                ?.user\r\n                                                ?.firstName +\r\n                                                \" \" +\r\n                                                item\r\n                                                    ?.user\r\n                                                    ?.lastName\r\n                                            : \"Anonyme\")))),\r\n                            React.createElement(\"div\", { className: \"col-10\" },\r\n                                React.createElement(\"form\", { className: 'mb-3' },\r\n                                    React.createElement(\"div\", { className: `${styles.forumCardSommaire}` },\r\n                                        React.createElement(\"div\", { className: 'row' },\r\n                                            React.createElement(\"div\", { className: 'col-12 pt-3 mb-md-4 mb-5' },\r\n                                                React.createElement(\"textarea\", { className: 'form-control', placeholder: 'R\\u00E9pondre', name: 'contents', value: comment, onChange: (e) => {\r\n                                                        setComment(e.target.value);\r\n                                                    } })))),\r\n                                    React.createElement(\"button\", { className: styles.formAddCguButtonAjouter, onClick: submitComment }, \"Ajouter\")))));\r\n                    }))) : (React.createElement(\"div\", { className: \"alert alert-warning\", role: \"alert\" },\r\n                        \"Vous \\u00EAtes d\\u00E9connect\\u00E9! Veuillez vous \",\r\n                        React.createElement(\"a\", { href: \"/\", className: \"alert-link\" }, \"reconnect\\u00E9\"),\r\n                        \" pour continuer.\")))))));\r\n};\r\nexport default Discussion;\r\n//# sourceMappingURL=Discussion.js.map","references":["/Users/paulgomis/Desktop/volkeno/volkeno-forumy/node_modules/@types/react/index.d.ts","/Users/paulgomis/Desktop/volkeno/volkeno-forumy/src/components/FrontCommentItem.tsx","/Users/paulgomis/Desktop/volkeno/volkeno-forumy/node_modules/react-icons/io5/index.d.ts","/Users/paulgomis/Desktop/volkeno/volkeno-forumy/node_modules/react-icons/ai/index.d.ts","/Users/paulgomis/Desktop/volkeno/volkeno-forumy/node_modules/react-router-dom/index.d.ts","/Users/paulgomis/Desktop/volkeno/volkeno-forumy/node_modules/react-router-dom/index.d.ts","/Users/paulgomis/Desktop/volkeno/volkeno-forumy/node_modules/moment/ts3.1-typings/moment.d.ts"],"map":"{\"version\":3,\"file\":\"Discussion.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/components/Discussion.tsx\"],\"names\":[],\"mappings\":\"AAAA,OAAO,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAA;AACvC,OAAO,MAAM,MAAM,sBAAsB,CAAA;AACzC,+CAA+C;AAC/C,OAAO,gBAAgB,MAAM,oBAAoB,CAAC;AAClD,OAAO,EAAE,uBAAuB,EAAE,MAAM,iBAAiB,CAAC;AAC1D,OAAO,EAAE,oBAAoB,EAAE,MAAM,gBAAgB,CAAC;AACtD,OAAO,EAAE,WAAW,EAAE,MAAM,kBAAkB,CAAC;AAC/C,OAAO,EAAE,SAAS,EAAE,MAAM,kBAAkB,CAAC;AAC7C,OAAO,MAAM,MAAM,QAAQ,CAAC;AAS5B,MAAM,UAAU,GAAE,CAAC;AACnB,kBAAkB;AAChB,oBAAoB,EACpB,gBAAgB,EACA,EAAE,EAAE;IAErB,MAAM,EAAC,IAAI,EAAC,GAAG,SAAS,EAAE,CAAA;IAE1B,IAAI,QAAQ,GAAG,WAAW,EAAE,CAAC;IAC7B,MAAM,KAAK,GAAO,QAAQ,EAAE,KAAK,CAAA;IACjC,MAAM,QAAQ,GAAG,KAAK,EAAE,MAAM,CAAC,CAAC,GAAO,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,KAAK,IAAI,CAAC,CAAA;IAC9D,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAO,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA;IACvD,IAAI,UAAU,GAAG,OAAO,CAAA;IAGxB,SAAS,gBAAgB;QACxB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,QAAQ,GAAG,gEAAgE,CAAC;QAEhF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;YAC1B,IAAI,IAAI,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;QAErE,OAAO,IAAI,CAAC;IACb,CAAC;IAED,MAAM,SAAS,GAAG,GAAG,EAAE;QACrB,QAAQ,CAAC,cAAc,CAAC,cAAc,CAAqB,CAAC,KAAK,EAAE,CAAC;IACtE,CAAC,CAAA;IAED,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAA;IAEzC,MAAM,aAAa,GAAG,CAAC,CAAM,EAAE,EAAE;QAClC,CAAC,CAAC,cAAc,EAAE,CAAA;QAClB,IAAG,OAAO,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;YAE7B,IAAI,oBAAoB,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAA;YAC7D,IAAI,mBAAmB,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAA;YAE3D,IAAI,KAAK,GAAQ;gBAChB,OAAO,EAAE,OAAO;gBAChB,EAAE,EAAE,gBAAgB,EAAE;gBACtB,IAAI,EAAE,gBAAgB,EAAE;gBACxB,4BAA4B;gBAC5B,UAAU,EAAE,MAAM,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC;gBACzC,IAAI,EAAE;oBACL,SAAS,EAAE,oBAAoB;oBAC/B,QAAQ,EAAE,mBAAmB;oBAC7B,MAAM,EAAE,iCAAiC;iBACzC;gBACD,qBAAqB,EAAE,EAAE;aACzB,CAAA;YACD,UAAU,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;YAC3C,UAAU,CAAC,UAAU,CAAC,CAAA;YACtB,SAAS,EAAE,CAAA;YACX,UAAU,CAAC,EAAE,CAAC,CAAA;SACd;IACD,CAAC,CAAA;IAEC,OAAO,CACR,6BAAK,SAAS,EAAC,wBAAwB;QACtC,6BAAK,SAAS,EAAE,MAAM,CAAC,gBAAgB;YACtC,6BAAK,SAAS,EAAE,MAAM,CAAC,eAAe;gBACrC,6BACC,SAAS,EAAC,wBAAwB,EAClC,KAAK,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE;oBAE1B,6BAAK,SAAS,EACd,MAAM,CAAC,iBAAiB;wBAEvB,6BAAK,SAAS,EAAE,MAAM,CAAC,qBAAqB;4BAC3C;gCACC,oBAAC,oBAAoB,IAAC,SAAS,EAAC,MAAM,GAAG;gCAAC,GAAG;gCAC5C,OAAO,EAAE,UAAU,CACd,CACF;wBACN,6BAAK,SAAS,EAAE,MAAM,CAAC,mBAAmB;4BACzC,6BAAK,SAAS,EAAC,EAAE;gCAChB,6BAAK,SAAS,EAAC,IAAI;oCAClB,6BACmB,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,KAAK,iCAAiC,CAAC,CAAC,CAAC,oCAAoC,OAAO,EAAE,MAAM,EAAE,SAAS,MAAM,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,GAAG,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,EACrN,GAAG,EAAC,aAAa,EACjB,SAAS,EAAE,MAAM,CAAC,0BAA0B,GAC3C,CACG,CACD;4BACN,6BAAK,SAAS,EAAC,EAAE;gCAChB,4BAAI,SAAS,EACb,MAAM,CAAC,kBAAkB,IAGvB,OAAO,EAAE,YAAY,CAElB;gCACL,6BAAK,SAAS,EAAE,MAAM,CAAC,uBAAuB;oCAC7C,oBAAC,uBAAuB,IAAC,SAAS,EAAC,MAAM,GAAG;oCAAC,GAAG;;oCAC5C,GAAG;oCACN,OAAO;wCACP,EAAE,MAAM;wCACR,EAAE,SAAS;wCACX,SAAS;wCACS,OAAO;4CACzB,EAAE,MAAM;4CACR,EAAE,QAAQ;4CACV,SAAS;wCACT,CAAC,CAAC,OAAO;4CACP,EAAE,MAAM;4CACR,EAAE,SAAS;4CACX,GAAG;4CACH,OAAO;gDACP,EAAE,MAAM;gDACR,EAAE,QAAQ;wCACZ,CAAC,CAAC,SAAS,CACP,CACD,CACD;wBACN,6BAAK,SAAS,EAAC,KAAK;4BACnB,6BAAK,SAAS,EAAC,aAAa;gCAC3B,2BAAG,SAAS;oCACZ,aAAa;oCACb,MAAM,CAAC,iBAAiB,IAGJ,OAAO,CAAC,cAAc,CAEtC,CACC,CACD,CACD;oBAEE,oBAAC,gBAAgB,IAAC,OAAO,EAAE,OAAO,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,gBAAgB,EAAE,gBAAgB,GAAI;oBAI/H,8BAAM,SAAS,EAAE,MAAM,CAAC,aAAa,GAAS;oBAI9C,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAE7B,6BAAK,SAAS,EAAE;;UAEb,MAAM,CAAC,UAAU;SAClB,IAEA,gBAAgB,EAAE,GAAG,CAAC,CAAC,IAAS,EAAC,EAAE;wBAClC,OAAM,CAEL,6BAAK,SAAS,EAAC,KAAK,EAAC,GAAG,EAAE,IAAI,CAAC,EAAE;4BAChC,6BAAK,SAAS,EAAC,OAAO;gCACrB,6BAAK,SAAS,EAAE,MAAM,CAAC,mBAAmB;oCACzC,6BAAK,SAAS,EAAC,EAAE;wCAChB,6BAAK,SAAS,EAAC,IAAI;4CAClB,6BACC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,KAAK,iCAAiC,CAAC,CAAC,CAAC,oCAAoC,IAAI,EAAE,IAAI,EAAE,SAAS,MAAM,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,EAC/K,GAAG,EAAC,aAAa,EACjB,SAAS,EAAE,MAAM,CAAC,2BAA2B,GAC5C,CACG,CACD;oCACN,6BAAK,SAAS,EAAC,8BAA8B;wCAC5C,6BAAK,SAAS,EACb,MAAM,CAAC,uBAAuB,IAE7B,IAAI;4CACJ,EAAE,IAAI;4CACN,EAAE,SAAS;4CACX,SAAS;4CACT,IAAI;gDACJ,EAAE,IAAI;gDACN,EAAE,QAAQ;gDACV,SAAS;4CACT,CAAC,CAAC,IAAI;gDACN,EAAE,IAAI;gDACJ,EAAE,SAAS;gDACZ,GAAG;gDACH,IAAI;oDACL,EAAE,IAAI;oDACJ,EAAE,QAAQ;4CACZ,CAAC,CAAC,SAAS,CACP,CACD,CACD,CACD;4BAEN,6BAAK,SAAS,EAAC,QAAQ;gCAOrB,8BAAM,SAAS,EAAC,MAAM;oCACrB,6BAAK,SAAS,EACb,GAAG,MAAM,CAAC,iBAAiB,EAAE;wCAE7B,6BAAK,SAAS,EAAC,KAAK;4CACnB,6BAAK,SAAS,EAAC,0BAA0B;gDACxC,kCAAU,SAAS,EAAC,cAAc,EAClC,WAAW,EAAC,eAAU,EAAC,IAAI,EAAC,UAAU,EACtC,KAAK,EAAE,OAAO,EACd,QAAQ,EAAE,CAAC,CAAC,EAAC,EAAE;wDACd,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;oDAC3B,CAAC,GACW,CACP,CACD,CACD;oCAEN,gCAAQ,SAAS,EAChB,MAAM,CAAC,uBAAuB,EAE9B,OAAO,EAAE,aAAa,cAGd,CACH,CAEH,CACD,CAEN,CAAA;oBACF,CAAC,CAAC,CAEG,CAEP,CAAC,CAAC,CAAC,CACH,6BAAK,SAAS,EAAC,qBAAqB,EAAC,IAAI,EAAC,OAAO;;wBACZ,2BAAG,IAAI,EAAC,GAAG,EAAC,SAAS,EAAC,YAAY,sBAAe;2CAChF,CACN,CAMI,CACD,CACD,CACD,CACN,CAAC;AACH,CAAC,CAAA;AAED,eAAe,UAAU,CAAA\"}","dts":{"name":"/Users/paulgomis/Desktop/volkeno/volkeno-forumy/components/Discussion.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"react\" />\r\ndeclare type discussionProps = {\r\n    onAddComment: (subject: any, commentText: string) => any;\r\n    onAddResponseComment: (subject: any, comment: any, commentText: string) => any;\r\n    datasUserSession: any;\r\n};\r\ndeclare const Discussion: ({ onAddResponseComment, datasUserSession }: discussionProps) => JSX.Element;\r\nexport default Discussion;\r\n"}}
